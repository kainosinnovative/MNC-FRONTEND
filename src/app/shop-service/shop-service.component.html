<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> -->
<h2 style="text-align: center;" class="mainheading">Services/Offer Details</h2>

<!-- <div style="text-align: right;">
  <button class="btn btn-success" (click)="DisplayForm()" >Add New Service</button>

</div> -->
<br>

  <div class="row">

    <div class="col-sm-4" >


      
       

      <div style="border: 1px solid;">
        <h2 style="text-align: center;" class="mainheading">Add Service</h2>
        <form [formGroup]="MasterserviceForm" name="pf">
        <div class="table-responsive" style="display: block;width: 100%;overflow-x: unset;" id="shopservFormid">
          <table class="table" style="border: none;margin-top: -23px;">
            <tr style="text-align: left;">
              
              <td  >

                <ng-autocomplete [data]="MasterServiceData1" formControlName="service_name" [searchKeyword]="keyword" (selected)='selectEvent($event)'
                (inputChanged)='onChangeSearch($event)' (inputFocused)='onFocused($event)' [itemTemplate]="itemTemplate"
                [notFoundTemplate]="notFoundTemplate" style="overflow:hidden;width: 200px;">
                <!-- <div class="input-container" style="border:1px solid black;">
                    <input type="text" aria-autocomplete="list" role="combobox" autocomplete="off" placeholder="" ng-reflect-model="" aria-label="" class="ng-pristine ng-valid ng-touched" style="border:5px solid black !important;"></div> -->
            </ng-autocomplete>
        
            <ng-template #itemTemplate let-item >
                <a [innerHTML]="item.service_name"></a>
            </ng-template>
        
            <ng-template #notFoundTemplate let-notFound>
                <div [innerHTML]="notFound"></div>
            </ng-template>

                <!-- <label style="width: 100px;">Service Name</label>
                <input type="text"   style="padding-left: 2px !important;"  formControlName="service_name"  placeholder=""  > -->
                <div *ngIf="MasterserviceForm.controls['service_name'].touched && MasterserviceForm.controls['service_name'].invalid"> 
                    
                  <div *ngIf="MasterserviceForm.controls['service_name'].errors" style="color: red;"> 
                    <div *ngIf="MasterserviceForm.controls['service_name'].errors.required" style="font-size: 12px;">
                        Service is required
                    </div> 		   
                   
                 </div> 
                  
                </div>
              </td>
              
        
              
              <td style="text-align: center;">
                <button class="btn carwashbtn  " style="background-color: #198754;color: white;margin-top: -11px;" (click)="AddMasterserviceDetails(MasterserviceForm.value)" [disabled]='!MasterserviceForm.valid'  >Add</button>
        
              </td>
            </tr>
          </table>
        
             
              </div>
            </form>
      </div>

      

    </div>

    <div class="col-sm-8">


     
      <div style="border: 1px solid;height: 125px;">
        <h2 style="text-align: center;" class="mainheading">Add Shop Service</h2>
      <form [formGroup]="shopserviceForm" name="pf">
      <div class="table-responsive" style="display: block;width: 100%;overflow-x: unset;" id="shopservFormid">
        <table class="table" style="border: none;">
          <tr style="text-align: left;">
            <td>
              <label style="width: 100px;">Service</label> 
                 
            <select   class="carmodelcls"  id="model" formControlName="service_id" style="width: 150px;" (change) ="changeOtherToadd($event)">   
                   
              <option value="">--Select Services--</option>  
               
              <option *ngFor="let service of MasterServiceData1" [value]="service.service_id">
                {{service.service_name}}
                </option> 
                <!-- <option value="Others">Others</option>  -->
               </select>
                <div *ngIf="shopserviceForm.controls['service_id'].touched && shopserviceForm.controls['service_id'].invalid"> 
                    
                <div *ngIf="shopserviceForm.controls['service_id'].errors" style="color: red;"> 
                  <div *ngIf="shopserviceForm.controls['service_id'].errors.required" style="font-size: 12px;">
                      Select service
                  </div> 		   
                 
               </div> 
                
              </div> 
            </td>
            <td style="display: none;" id="hiddenServidTd">
              <label style="width: 100px;">Service Name</label>
              <input type="text"   style="padding-left: 2px !important;"   id="hidden_service" placeholder=""  >
      
            </td>
            <td>
              <label style="width: 100px;">Model</label> 
                       
                  <select   class="carmodelcls "  id="model" formControlName="model_id">   
                         
                    <option value="">--Select Model--</option>  
                    <option *ngFor="let m of MasterModelData1" [value]="m.id">
                      {{m.model_name}}
                      </option> 
                     </select>
                      <div *ngIf="shopserviceForm.controls['model_id'].touched && shopserviceForm.controls['model_id'].invalid"> 
                          
                      <div *ngIf="shopserviceForm.controls['model_id'].errors" style="color: red;"> 
                        <div *ngIf="shopserviceForm.controls['model_id'].errors.required" style="font-size: 12px;">
                            Select car model
                        </div> 		   
                       
                     </div> 
                      
                    </div> 
            </td>
      
            <td>
              <label class="customerProfileLbl" style="width: 100px;">Amount</label>
             
               <input type="text"   style="padding-left: 2px !important;"   class="  lastname" placeholder="" formControlName="actual_amount" style="width: 80px;">
              <div *ngIf="shopserviceForm.controls['actual_amount'].touched && shopserviceForm.controls['actual_amount'].invalid "> 
      
                  <div *ngIf="shopserviceForm.controls['actual_amount'].errors" style="color: red;"> 
                    <div *ngIf="shopserviceForm.controls['actual_amount'].errors.required" style="font-size: 12px;">
                         Amount is required. 
                    </div> 		   
                   
                 </div> 
                  
                </div>
            </td>
            <td>
              <button class="btn carwashbtn  " style="background-color: #198754;color: white;margin-top: -10px;" (click)="AddShopserviceDetails(shopserviceForm.value)" [disabled]='!shopserviceForm.valid'  >Add</button>
      
            </td>
          </tr>
        </table>
      
           
            </div>
          </form>

        </div>
    </div>
  </div>

   <br>

<div class="row">
   

    <div class="col-sm-12">

      
        <table  class="table table-responsive servicecss" >
            <thead style="background: #8bc7ef;border-bottom: 0.5px solid #aeaeae;">
              <tr >
                <th colspan="5" style="text-align:center;border-right:solid 1px;font-weight: bold;font-size:14px;">Service Details</th>
                <th colspan="5"  style="text-align:center;font-weight:bold;font-size:14px">Offer Details</th>
                </tr>
                <tr>
                <th style="width:40px;">Sl. No.</th>
                <th style="width:200px;">Service Name</th>
                <th style="width:150px;">Model </th>
                <th style="width:80px;" >Service Amount</th>
                <th  style="width:150px;border-right:solid 1px;">Action</th>
                <th style="width:85px;" >Offer(%) </th>
                <th style="width:85px;" >Offer Price </th>
                <th style="width:35px;">Offer From Date</th>
                <th style="width:35px;">Offer To Date</th>
                <th  style="width:100px;">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let service of  serviceData1 | paginate: config ;  let i=index;" >
                
                <td>{{i+1}}</td>
                <td ><input id="service_{{service.service_id}}" type="number" value="{{service.service_id}}"  style="width: 60px;" hidden><input id="servicename_{{service.service_id}}" type="text" value="{{service.service_name}}"  style="width: 250px;border:none;text-align: center;" readonly></td>
                <td>  <input id="model_{{service.service_id}}" type="number" value="{{service.model_id}}"  style="width: 60px;" hidden> <input id="modelname_{{service.service_id}}" type="text" value="{{service.model_name}}"  style="width: 150px;border:none;text-align: center;background-color: #fff;" readonly></td>
                <td><i class="fa fa-rupee"> </i> &nbsp; <input id="amount_{{service.service_id}}" type="number" value="{{service.actual_amount}}" (keyup)="removevalidateMsg(service.service_id)" style="width: 60px;">
                <p id="validateamount_{{service.service_id}}" style="color: red;display: none;font-size:10px;"> Enter the Amount</p>
                </td>
                <td style="border-right:solid 1px;">
                
                

                      
                     <button   style="border-radius: 21px;width: 60px;border: none;background-color: #b9c3f5;height: 22px;color: black;font-weight:bold;" id="updatebtn_{{service.service_id}}" (click)="UpdateServiceAmount(service.service_id)">Update</button>
                    
                  
                    </td>
                <td>
                 &nbsp; <input id="offer_{{service.service_id}}" #term type="number" value="{{service.offer_percent}}"  (keyup)="getOfferPrice(term.value,term.id)" style="width: 80px;">&nbsp;<i class="fa fa-percent"> </i>
                 <p id="validateoffer_{{service.service_id}}" style="color: red;display: none;font-size:10px;"> Enter the Offer %</p>
                </td>
                <td>
                  &nbsp;<i class="fa fa-rupee"> </i>&nbsp;<input id="offeramount_{{service.service_id}}" type="number" value="{{service.offer_price}}"  style="width: 60px;">
               
                </td>
                <td>  <input type="date"  id="offerfromdate_{{service.service_id}}"  class=" dateofbirthcls" style="width:112px !important;" value="{{service.from_date}}"  placeholder="">
                  <p id="validatefromdate_{{service.service_id}}" style="color: red;display: none;font-size:10px;">Select Offer Starting Date</p> <p id="validatefromdateformat_{{service.service_id}}" style="color: red;display: none;font-size:10px;">Offer From Date Greater than To Date</p></td>
                <td> <input type="date"  id="offertodate_{{service.service_id}}"  class=" dateofbirthcls"  style="width:112px !important;" value="{{service.to_date}}" placeholder="">
                  <p id="validatetodate_{{service.service_id}}" style="color: red;display: none;font-size:10px;">Select Offer Ending Date</p>  <p id="validatetodateformat_{{service.service_id}}" style="color: red;display: none;font-size:10px;">Offer To Date Less than From Date</p></td>
                <td>



                      
                     <button   style="border-radius: 21px;width: 60px;border: none;background-color: #b9c3f5;height: 22px;color: black rgb(158, 155, 155);font-weight:bold;" id="updatebtn_{{service.service_id}}" (click)="UpdateOfferAmount(service.service_id)">Update</button>
                    
                    
        
              
            </td>
              </tr>
              
            </tbody>
          </table>

            <br>
            <div style="text-align: center;">
              <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
            </div>
          
    </div>

  
</div>



